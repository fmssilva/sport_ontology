#!/bin/bash
# Cross-platform database creation runner
# Automatically detects OS and runs appropriate script

echo "üîç Detecting operating system..."

case "$(uname -s)" in
    CYGWIN*|MINGW32*|MINGW64*|MSYS*)
        echo "üìù Windows detected - using batch file"
        if [ -f "compile_and_run.bat" ]; then
            cmd //c "compile_and_run.bat"
        else
            echo "‚ùå ERROR: compile_and_run.bat not found!"
            exit 1
        fi
        ;;
    Darwin*)
        echo "üçé macOS detected - using shell script"
        if [ -f "compile_and_run.sh" ]; then
            chmod +x compile_and_run.sh
            ./compile_and_run.sh
        else
            echo "‚ùå ERROR: compile_and_run.sh not found!"
            exit 1
        fi
        ;;
    Linux*)
        echo "üêß Linux detected - using shell script"
        if [ -f "compile_and_run.sh" ]; then
            chmod +x compile_and_run.sh
            ./compile_and_run.sh
        else
            echo "‚ùå ERROR: compile_and_run.sh not found!"
            exit 1
        fi
        ;;
    *)
        echo "‚ùì Unknown OS: $(uname -s)"
        echo "Please run the appropriate script manually:"
        echo "  Windows: compile_and_run.bat"
        echo "  Linux/Mac: compile_and_run.sh"
        exit 1
        ;;
esac